Cloud to be used is Google Compute Engine.
Make sure you've set the GCE authentication variables and JSON credentials file.

PLAY [Create the required Ansible groups] *******************************************************************************************************************************************************************

TASK [Add the nodes to hadoop-cluster and role specific groups] *********************************************************************************************************************************************
included: /root/ansible-hortonworks/playbooks/clouds/add_nodes_gce.yml for localhost
included: /root/ansible-hortonworks/playbooks/clouds/add_nodes_gce.yml for localhost
included: /root/ansible-hortonworks/playbooks/clouds/add_nodes_gce.yml for localhost

TASK [set_fact] *********************************************************************************************************************************************************************************************
ok: [localhost]

TASK [Add nodes to hadoop-cluster and hdp-master groups] ****************************************************************************************************************************************************
changed: [localhost] => (item=gcp1-hdp-master)

TASK [Add node to ambari-server group] **********************************************************************************************************************************************************************
changed: [localhost] => (item=gcp1-hdp-master)

TASK [set_fact] *********************************************************************************************************************************************************************************************
ok: [localhost]

TASK [Add nodes to hadoop-cluster and hdp-slave groups] *****************************************************************************************************************************************************
changed: [localhost] => (item=gcp1-hdp-slave-02)
changed: [localhost] => (item=gcp1-hdp-slave-01)

TASK [Add node to ambari-server group] **********************************************************************************************************************************************************************
skipping: [localhost] => (item=gcp1-hdp-slave-02) 
skipping: [localhost] => (item=gcp1-hdp-slave-01) 

TASK [set_fact] *********************************************************************************************************************************************************************************************
ok: [localhost]

TASK [Add nodes to hadoop-cluster and hdp-edge groups] ******************************************************************************************************************************************************
skipping: [localhost]

TASK [Add node to ambari-server group] **********************************************************************************************************************************************************************
skipping: [localhost]

PLAY [Create the required Ansible variables] ****************************************************************************************************************************************************************

TASK [Initialize the control variables] *********************************************************************************************************************************************************************
ok: [gcp1-hdp-master]

TASK [Populate the namenode groups list] ********************************************************************************************************************************************************************
skipping: [gcp1-hdp-master] => (item={u'services': [u'DATANODE', u'NODEMANAGER', u'METRICS_MONITOR', u'SPARK2_THRIFTSERVER', u'METRICS_MONITOR', u'SUPERVISOR', u'LOGSEARCH_LOGFEEDER'], u'clients': [u'SPARK2_CLIENT', u'INFRA_SOLR_CLIENT', u'TEZ_CLIENT', u'HST_AGENT', u'SLIDER', u'ACCUMULO_CLIENT', u'OOZIE_CLIENT', u'HBASE_REGIONSERVER', u'LIVY2_SERVER', u'SPARK_THRIFTSERVER', u'SPARK_CLIENT', u'YARN_CLIENT', u'HDFS_CLIENT', u'FALCON_CLIENT', u'MAPREDUCE2_CLIENT', u'ATLAS_CLIENT', u'HBASE_CLIENT', u'HIVE_CLIENT', u'PHOENIX_QUERY_SERVER', u'ZOOKEEPER_CLIENT', u'PIG', u'SQOOP', u'HCAT'], u'role': u'hdp-slave'}) 
ok: [gcp1-hdp-master] => (item={u'services': [u'NODEMANAGER', u'RANGER_USERSYNC', u'DRUID_HISTORICAL', u'DRUID_BROKER', u'HIVE_SERVER', u'RANGER_TAGSYNC', u'WEBHCAT_SERVER', u'RANGER_ADMIN', u'LOGSEARCH_LOGFEEDER', u'HIVE_METASTORE', u'KNOX_GATEWAY', u'SPARK2_JOBHISTORYSERVER', u'KAFKA_BROKER', u'DRUID_COORDINATOR', u'ACCUMULO_TRACER', u'HST_SERVER', u'HISTORYSERVER', u'ZEPPELIN_MASTER', u'DRUID_OVERLORD', u'ACTIVITY_EXPLORER', u'AMBARI_SERVER', u'FALCON_SERVER', u'LOGSEARCH_LOGFEEDER', u'SPARK_JOBHISTORYSERVER', u'APP_TIMELINE_SERVER', u'RANGER_KMS_SERVER', u'RESOURCEMANAGER', u'DRUID_MIDDLEMANAGER', u'DRUID_ROUTER', u'METRICS_MONITOR', u'ACCUMULO_GC', u'HBASE_MASTER', u'ATLAS_SERVER', u'ZOOKEEPER_SERVER', u'DRPC_SERVER', u'MAHOUT', u'ACCUMULO_MONITOR', u'STORM_UI_SERVER', u'NAMENODE', u'NIMBUS', u'SUPERSET', u'ACCUMULO_MASTER', u'INFRA_SOLR', u'OOZIE_SERVER', u'SECONDARY_NAMENODE', u'METRICS_COLLECTOR'], u'clients': [u'SPARK2_CLIENT', u'TEZ_CLIENT', u'OOZIE_CLIENT', u'SPARK_CLIENT', u'HDFS_CLIENT', u'FALCON_CLIENT', u'HBASE_CLIENT', u'ZOOKEEPER_CLIENT', u'HCAT', u'INFRA_SOLR_CLIENT', u'ACCUMULO_CLIENT', u'YARN_CLIENT', u'MAPREDUCE2_CLIENT', u'ATLAS_CLIENT', u'HIVE_CLIENT', u'SLIDER', u'PIG', u'SQOOP', u'HST_AGENT', u'ACCUMULO_TSERVER'], u'role': u'hdp-master'})

TASK [Populate the resourcemanager groups list] *************************************************************************************************************************************************************
skipping: [gcp1-hdp-master] => (item={u'services': [u'DATANODE', u'NODEMANAGER', u'METRICS_MONITOR', u'SPARK2_THRIFTSERVER', u'METRICS_MONITOR', u'SUPERVISOR', u'LOGSEARCH_LOGFEEDER'], u'clients': [u'SPARK2_CLIENT', u'INFRA_SOLR_CLIENT', u'TEZ_CLIENT', u'HST_AGENT', u'SLIDER', u'ACCUMULO_CLIENT', u'OOZIE_CLIENT', u'HBASE_REGIONSERVER', u'LIVY2_SERVER', u'SPARK_THRIFTSERVER', u'SPARK_CLIENT', u'YARN_CLIENT', u'HDFS_CLIENT', u'FALCON_CLIENT', u'MAPREDUCE2_CLIENT', u'ATLAS_CLIENT', u'HBASE_CLIENT', u'HIVE_CLIENT', u'PHOENIX_QUERY_SERVER', u'ZOOKEEPER_CLIENT', u'PIG', u'SQOOP', u'HCAT'], u'role': u'hdp-slave'}) 
ok: [gcp1-hdp-master] => (item={u'services': [u'NODEMANAGER', u'RANGER_USERSYNC', u'DRUID_HISTORICAL', u'DRUID_BROKER', u'HIVE_SERVER', u'RANGER_TAGSYNC', u'WEBHCAT_SERVER', u'RANGER_ADMIN', u'LOGSEARCH_LOGFEEDER', u'HIVE_METASTORE', u'KNOX_GATEWAY', u'SPARK2_JOBHISTORYSERVER', u'KAFKA_BROKER', u'DRUID_COORDINATOR', u'ACCUMULO_TRACER', u'HST_SERVER', u'HISTORYSERVER', u'ZEPPELIN_MASTER', u'DRUID_OVERLORD', u'ACTIVITY_EXPLORER', u'AMBARI_SERVER', u'FALCON_SERVER', u'LOGSEARCH_LOGFEEDER', u'SPARK_JOBHISTORYSERVER', u'APP_TIMELINE_SERVER', u'RANGER_KMS_SERVER', u'RESOURCEMANAGER', u'DRUID_MIDDLEMANAGER', u'DRUID_ROUTER', u'METRICS_MONITOR', u'ACCUMULO_GC', u'HBASE_MASTER', u'ATLAS_SERVER', u'ZOOKEEPER_SERVER', u'DRPC_SERVER', u'MAHOUT', u'ACCUMULO_MONITOR', u'STORM_UI_SERVER', u'NAMENODE', u'NIMBUS', u'SUPERSET', u'ACCUMULO_MASTER', u'INFRA_SOLR', u'OOZIE_SERVER', u'SECONDARY_NAMENODE', u'METRICS_COLLECTOR'], u'clients': [u'SPARK2_CLIENT', u'TEZ_CLIENT', u'OOZIE_CLIENT', u'SPARK_CLIENT', u'HDFS_CLIENT', u'FALCON_CLIENT', u'HBASE_CLIENT', u'ZOOKEEPER_CLIENT', u'HCAT', u'INFRA_SOLR_CLIENT', u'ACCUMULO_CLIENT', u'YARN_CLIENT', u'MAPREDUCE2_CLIENT', u'ATLAS_CLIENT', u'HIVE_CLIENT', u'SLIDER', u'PIG', u'SQOOP', u'HST_AGENT', u'ACCUMULO_TSERVER'], u'role': u'hdp-master'})

TASK [Populate the journalnode groups list] *****************************************************************************************************************************************************************
skipping: [gcp1-hdp-master] => (item={u'services': [u'DATANODE', u'NODEMANAGER', u'METRICS_MONITOR', u'SPARK2_THRIFTSERVER', u'METRICS_MONITOR', u'SUPERVISOR', u'LOGSEARCH_LOGFEEDER'], u'clients': [u'SPARK2_CLIENT', u'INFRA_SOLR_CLIENT', u'TEZ_CLIENT', u'HST_AGENT', u'SLIDER', u'ACCUMULO_CLIENT', u'OOZIE_CLIENT', u'HBASE_REGIONSERVER', u'LIVY2_SERVER', u'SPARK_THRIFTSERVER', u'SPARK_CLIENT', u'YARN_CLIENT', u'HDFS_CLIENT', u'FALCON_CLIENT', u'MAPREDUCE2_CLIENT', u'ATLAS_CLIENT', u'HBASE_CLIENT', u'HIVE_CLIENT', u'PHOENIX_QUERY_SERVER', u'ZOOKEEPER_CLIENT', u'PIG', u'SQOOP', u'HCAT'], u'role': u'hdp-slave'}) 
skipping: [gcp1-hdp-master] => (item={u'services': [u'NODEMANAGER', u'RANGER_USERSYNC', u'DRUID_HISTORICAL', u'DRUID_BROKER', u'HIVE_SERVER', u'RANGER_TAGSYNC', u'WEBHCAT_SERVER', u'RANGER_ADMIN', u'LOGSEARCH_LOGFEEDER', u'HIVE_METASTORE', u'KNOX_GATEWAY', u'SPARK2_JOBHISTORYSERVER', u'KAFKA_BROKER', u'DRUID_COORDINATOR', u'ACCUMULO_TRACER', u'HST_SERVER', u'HISTORYSERVER', u'ZEPPELIN_MASTER', u'DRUID_OVERLORD', u'ACTIVITY_EXPLORER', u'AMBARI_SERVER', u'FALCON_SERVER', u'LOGSEARCH_LOGFEEDER', u'SPARK_JOBHISTORYSERVER', u'APP_TIMELINE_SERVER', u'RANGER_KMS_SERVER', u'RESOURCEMANAGER', u'DRUID_MIDDLEMANAGER', u'DRUID_ROUTER', u'METRICS_MONITOR', u'ACCUMULO_GC', u'HBASE_MASTER', u'ATLAS_SERVER', u'ZOOKEEPER_SERVER', u'DRPC_SERVER', u'MAHOUT', u'ACCUMULO_MONITOR', u'STORM_UI_SERVER', u'NAMENODE', u'NIMBUS', u'SUPERSET', u'ACCUMULO_MASTER', u'INFRA_SOLR', u'OOZIE_SERVER', u'SECONDARY_NAMENODE', u'METRICS_COLLECTOR'], u'clients': [u'SPARK2_CLIENT', u'TEZ_CLIENT', u'OOZIE_CLIENT', u'SPARK_CLIENT', u'HDFS_CLIENT', u'FALCON_CLIENT', u'HBASE_CLIENT', u'ZOOKEEPER_CLIENT', u'HCAT', u'INFRA_SOLR_CLIENT', u'ACCUMULO_CLIENT', u'YARN_CLIENT', u'MAPREDUCE2_CLIENT', u'ATLAS_CLIENT', u'HIVE_CLIENT', u'SLIDER', u'PIG', u'SQOOP', u'HST_AGENT', u'ACCUMULO_TSERVER'], u'role': u'hdp-master'}) 

TASK [Populate the zookeeper groups list] *******************************************************************************************************************************************************************
skipping: [gcp1-hdp-master] => (item={u'services': [u'DATANODE', u'NODEMANAGER', u'METRICS_MONITOR', u'SPARK2_THRIFTSERVER', u'METRICS_MONITOR', u'SUPERVISOR', u'LOGSEARCH_LOGFEEDER'], u'clients': [u'SPARK2_CLIENT', u'INFRA_SOLR_CLIENT', u'TEZ_CLIENT', u'HST_AGENT', u'SLIDER', u'ACCUMULO_CLIENT', u'OOZIE_CLIENT', u'HBASE_REGIONSERVER', u'LIVY2_SERVER', u'SPARK_THRIFTSERVER', u'SPARK_CLIENT', u'YARN_CLIENT', u'HDFS_CLIENT', u'FALCON_CLIENT', u'MAPREDUCE2_CLIENT', u'ATLAS_CLIENT', u'HBASE_CLIENT', u'HIVE_CLIENT', u'PHOENIX_QUERY_SERVER', u'ZOOKEEPER_CLIENT', u'PIG', u'SQOOP', u'HCAT'], u'role': u'hdp-slave'}) 
ok: [gcp1-hdp-master] => (item={u'services': [u'NODEMANAGER', u'RANGER_USERSYNC', u'DRUID_HISTORICAL', u'DRUID_BROKER', u'HIVE_SERVER', u'RANGER_TAGSYNC', u'WEBHCAT_SERVER', u'RANGER_ADMIN', u'LOGSEARCH_LOGFEEDER', u'HIVE_METASTORE', u'KNOX_GATEWAY', u'SPARK2_JOBHISTORYSERVER', u'KAFKA_BROKER', u'DRUID_COORDINATOR', u'ACCUMULO_TRACER', u'HST_SERVER', u'HISTORYSERVER', u'ZEPPELIN_MASTER', u'DRUID_OVERLORD', u'ACTIVITY_EXPLORER', u'AMBARI_SERVER', u'FALCON_SERVER', u'LOGSEARCH_LOGFEEDER', u'SPARK_JOBHISTORYSERVER', u'APP_TIMELINE_SERVER', u'RANGER_KMS_SERVER', u'RESOURCEMANAGER', u'DRUID_MIDDLEMANAGER', u'DRUID_ROUTER', u'METRICS_MONITOR', u'ACCUMULO_GC', u'HBASE_MASTER', u'ATLAS_SERVER', u'ZOOKEEPER_SERVER', u'DRPC_SERVER', u'MAHOUT', u'ACCUMULO_MONITOR', u'STORM_UI_SERVER', u'NAMENODE', u'NIMBUS', u'SUPERSET', u'ACCUMULO_MASTER', u'INFRA_SOLR', u'OOZIE_SERVER', u'SECONDARY_NAMENODE', u'METRICS_COLLECTOR'], u'clients': [u'SPARK2_CLIENT', u'TEZ_CLIENT', u'OOZIE_CLIENT', u'SPARK_CLIENT', u'HDFS_CLIENT', u'FALCON_CLIENT', u'HBASE_CLIENT', u'ZOOKEEPER_CLIENT', u'HCAT', u'INFRA_SOLR_CLIENT', u'ACCUMULO_CLIENT', u'YARN_CLIENT', u'MAPREDUCE2_CLIENT', u'ATLAS_CLIENT', u'HIVE_CLIENT', u'SLIDER', u'PIG', u'SQOOP', u'HST_AGENT', u'ACCUMULO_TSERVER'], u'role': u'hdp-master'})

TASK [Populate the zookeeper hosts list] ********************************************************************************************************************************************************************
skipping: [gcp1-hdp-master] => (item={u'services': [u'DATANODE', u'NODEMANAGER', u'METRICS_MONITOR', u'SPARK2_THRIFTSERVER', u'METRICS_MONITOR', u'SUPERVISOR', u'LOGSEARCH_LOGFEEDER'], u'clients': [u'SPARK2_CLIENT', u'INFRA_SOLR_CLIENT', u'TEZ_CLIENT', u'HST_AGENT', u'SLIDER', u'ACCUMULO_CLIENT', u'OOZIE_CLIENT', u'HBASE_REGIONSERVER', u'LIVY2_SERVER', u'SPARK_THRIFTSERVER', u'SPARK_CLIENT', u'YARN_CLIENT', u'HDFS_CLIENT', u'FALCON_CLIENT', u'MAPREDUCE2_CLIENT', u'ATLAS_CLIENT', u'HBASE_CLIENT', u'HIVE_CLIENT', u'PHOENIX_QUERY_SERVER', u'ZOOKEEPER_CLIENT', u'PIG', u'SQOOP', u'HCAT'], u'role': u'hdp-slave'}) 
ok: [gcp1-hdp-master] => (item={u'services': [u'NODEMANAGER', u'RANGER_USERSYNC', u'DRUID_HISTORICAL', u'DRUID_BROKER', u'HIVE_SERVER', u'RANGER_TAGSYNC', u'WEBHCAT_SERVER', u'RANGER_ADMIN', u'LOGSEARCH_LOGFEEDER', u'HIVE_METASTORE', u'KNOX_GATEWAY', u'SPARK2_JOBHISTORYSERVER', u'KAFKA_BROKER', u'DRUID_COORDINATOR', u'ACCUMULO_TRACER', u'HST_SERVER', u'HISTORYSERVER', u'ZEPPELIN_MASTER', u'DRUID_OVERLORD', u'ACTIVITY_EXPLORER', u'AMBARI_SERVER', u'FALCON_SERVER', u'LOGSEARCH_LOGFEEDER', u'SPARK_JOBHISTORYSERVER', u'APP_TIMELINE_SERVER', u'RANGER_KMS_SERVER', u'RESOURCEMANAGER', u'DRUID_MIDDLEMANAGER', u'DRUID_ROUTER', u'METRICS_MONITOR', u'ACCUMULO_GC', u'HBASE_MASTER', u'ATLAS_SERVER', u'ZOOKEEPER_SERVER', u'DRPC_SERVER', u'MAHOUT', u'ACCUMULO_MONITOR', u'STORM_UI_SERVER', u'NAMENODE', u'NIMBUS', u'SUPERSET', u'ACCUMULO_MASTER', u'INFRA_SOLR', u'OOZIE_SERVER', u'SECONDARY_NAMENODE', u'METRICS_COLLECTOR'], u'clients': [u'SPARK2_CLIENT', u'TEZ_CLIENT', u'OOZIE_CLIENT', u'SPARK_CLIENT', u'HDFS_CLIENT', u'FALCON_CLIENT', u'HBASE_CLIENT', u'ZOOKEEPER_CLIENT', u'HCAT', u'INFRA_SOLR_CLIENT', u'ACCUMULO_CLIENT', u'YARN_CLIENT', u'MAPREDUCE2_CLIENT', u'ATLAS_CLIENT', u'HIVE_CLIENT', u'SLIDER', u'PIG', u'SQOOP', u'HST_AGENT', u'ACCUMULO_TSERVER'], u'role': u'hdp-master'})

TASK [Populate the hiveserver hosts list] *******************************************************************************************************************************************************************
ok: [gcp1-hdp-master] => (item=(censored due to no_log))
skipping: [gcp1-hdp-master] => (item=(censored due to no_log)) 

TASK [Populate the oozie hosts list] ************************************************************************************************************************************************************************
skipping: [gcp1-hdp-master] => (item=(censored due to no_log)) 
ok: [gcp1-hdp-master] => (item=(censored due to no_log))

TASK [Populate the rangeradmin groups list] *****************************************************************************************************************************************************************
skipping: [gcp1-hdp-master] => (item=(censored due to no_log)) 
ok: [gcp1-hdp-master] => (item=(censored due to no_log))

TASK [Populate the rangeradmin hosts list] ******************************************************************************************************************************************************************
skipping: [gcp1-hdp-master] => (item=(censored due to no_log)) 
ok: [gcp1-hdp-master] => (item=(censored due to no_log))

TASK [Populate the rangerkms groups list] *******************************************************************************************************************************************************************
fatal: [gcp1-hdp-master]: FAILED! => {"failed": true, "msg": "the field 'args' has an invalid value, which appears to include a variable that is undefined. The error was: 'rangerkms_groups' is undefined\n\nThe error appears to have been in '/root/ansible-hortonworks/playbooks/set_variables.yml': line 91, column 9, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n      - name: Populate the rangerkms groups list\n        ^ here\n"}
	to retry, use: --limit @/root/ansible-hortonworks/playbooks/install_cluster.retry

PLAY RECAP **************************************************************************************************************************************************************************************************
gcp1-hdp-master            : ok=9    changed=0    unreachable=0    failed=1   
localhost                  : ok=9    changed=3    unreachable=0    failed=0   

